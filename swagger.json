{"swagger":"2.0","info":{"title":"Triplan API Documentation","description":"This is the official documentation of triplan.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"JWT":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"ListUserDto":{"type":"object","properties":{"search":{"type":"string"},"name":{"type":"string"},"names":{"type":"string"}}},"AuthCredentialsDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["username","password"]},"CreateTripDto":{"type":"object","properties":{"name":{"type":"string"},"dateRange":{"type":"string"},"categories":{"type":"string"},"allEvents":{"type":"string"},"calendarEvents":{"type":"string"},"sidebarEvents":{"type":"string"},"calendarLocale":{"type":"string"}},"required":["name","dateRange","categories","allEvents","calendarEvents","sidebarEvents","calendarLocale"]},"DuplicateTripDto":{"type":"object","properties":{"name":{"type":"string"},"newName":{"type":"string"}},"required":["name","newName"]},"UpdateTripDto":{"type":"object","properties":{"name":{"type":"string"},"dateRange":{"type":"string"},"categories":{"type":"string"},"allEvents":{"type":"string"},"calendarEvents":{"type":"string"},"sidebarEvents":{"type":"string"},"calendarLocale":{"type":"string"}},"required":["name","dateRange","categories","allEvents","calendarEvents","sidebarEvents","calendarLocale"]},"CalcDistancesDto":{"type":"object","properties":{"from":{"type":"array","items":{"type":"string"}},"to":{"type":"array","items":{"type":"string"}},"tripName":{"type":"string"}},"required":["from","to","tripName"]}}},"paths":{"/api/json":{"get":{"operationId":"AppController_getSwagger","summary":"Get Swagger JSON","parameters":[],"responses":{"200":{"description":""}}}},"/user":{"get":{"operationId":"UserController_getUsers","summary":"List Users","description":"List all registered users.","parameters":[],"requestBody":{"required":true,"description":"List all registered users.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUserDto"}}}},"responses":{"200":{"description":""}},"tags":["Users"],"security":[{"JWT":[]}]}},"/user/{id}":{"delete":{"operationId":"UserController_deleteUser","summary":"Delete User","description":"Delete user by id","parameters":[{"name":"id","required":true,"in":"path","description":"user id","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Users"],"security":[{"JWT":[]}]}},"/user/bulk/{ids}":{"delete":{"operationId":"UserController_deleteUsers","summary":"Delete Users","description":"Delete users in bulk by ids comma separated","parameters":[{"name":"ids","required":true,"in":"path","description":"user id","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Users"],"security":[{"JWT":[]}]}},"/user/name/{name}":{"delete":{"operationId":"UserController_deleteUserByName","summary":"Delete User by name","description":"Delete user by name","parameters":[{"name":"name","required":true,"in":"path","description":"the name of the user","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Users"],"security":[{"JWT":[]}]}},"/auth/signup":{"post":{"operationId":"AuthController_signUp","summary":"Sign Up","description":"Sign up. supply username & password to create a new user in the system.","parameters":[],"requestBody":{"required":true,"description":"User credentials: username & password","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthCredentialsDto"}}}},"responses":{"201":{"description":""}},"tags":["Authentication"]}},"/auth/signin":{"post":{"operationId":"AuthController_singIn","summary":"Sign In","description":"Sign in. supply username & password and get JWT token in return.","parameters":[],"requestBody":{"required":true,"description":"User credentials: username & password","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthCredentialsDto"}}}},"responses":{"200":{"description":"Returns JWT token of this user"},"400":{"description":"Indicates that one (or more) of the given parameters was invalid."},"401":{"description":"Indicates that the given credentials are incorrect."}},"tags":["Authentication"]}},"/auth/isLoggedIn":{"post":{"operationId":"AuthController_isLoggedIn","summary":"Test","description":"Test Token. supply JWT token and get matching username. useful for debug purposes.","parameters":[],"responses":{"201":{"description":""}},"tags":["Authentication"],"security":[{"JWT":[]}]}},"/auth/isAdmin":{"post":{"operationId":"AuthController_isAdmin","summary":"Test","description":"Test Token. supply JWT token and get matching username. useful for debug purposes.","parameters":[],"responses":{"201":{"description":""}},"tags":["Authentication"],"security":[{"JWT":[]}]}},"/trip":{"get":{"operationId":"TripController_getTrips","summary":"Get Trips","description":"Get all trips","parameters":[{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]},"post":{"operationId":"TripController_createTrip","summary":"Create Trip","description":"Create a trip.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTripDto"}}}},"responses":{"201":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/short":{"get":{"operationId":"TripController_getTripsShort","summary":"Get Trips Short","description":"Get all trips basic info","parameters":[{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/migrate/extended-props/wet":{"put":{"operationId":"TripController_migrate","parameters":[],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/migrate/extended-props":{"put":{"operationId":"TripController_migrateDryRun","parameters":[],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/{id}":{"get":{"operationId":"TripController_getTrip","summary":"Get Trip","description":"Get specific trip by id","parameters":[{"name":"id","required":true,"in":"path","description":"trip id","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]},"put":{"operationId":"TripController_updateTrip","summary":"Update Trip","description":"Update trip by id","parameters":[{"name":"id","required":true,"in":"path","description":"trip id","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTripDto"}}}},"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]},"delete":{"operationId":"TripController_deleteTrip","summary":"Delete Trip","description":"Delete trip by id","parameters":[{"name":"id","required":true,"in":"path","description":"trip id","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/name/{name}":{"get":{"operationId":"TripController_getTripByName","summary":"Get Trip By Name","description":"Get specific trip by name","parameters":[{"name":"name","required":true,"in":"path","description":"trip name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]},"put":{"operationId":"TripController_updateTripByName","summary":"Update Trip By Name","description":"Update trip by name","parameters":[{"name":"name","required":true,"in":"path","description":"trip name","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTripDto"}}}},"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]},"delete":{"operationId":"TripController_deleteTripByName","summary":"Delete Trip By Name","description":"Delete trip by name","parameters":[{"name":"name","required":true,"in":"path","description":"trip name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/upsert":{"post":{"operationId":"TripController_upsertTrip","summary":"Upsert Trip","description":"Upsert a trip.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTripDto"}}}},"responses":{"201":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/trip/duplicate":{"post":{"operationId":"TripController_duplicateTripByName","summary":"Duplicate Trip","description":"Duplicate trip by name","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DuplicateTripDto"}}}},"responses":{"201":{"description":""}},"tags":["Trips"],"security":[{"JWT":[]}]}},"/backups":{"get":{"operationId":"BackupsController_GetAllBackupsCount","parameters":[],"responses":{"200":{"description":""}}}},"/backups/by-trip/{id}/{limit}":{"get":{"operationId":"BackupsController_GetTripBackups","parameters":[],"responses":{"200":{"description":""}}}},"/backups/{id}":{"get":{"operationId":"BackupsController_GetSpecificBackup","parameters":[],"responses":{"200":{"description":""}}}},"/instagram":{"post":{"operationId":"InstagramController_getInstagramData","parameters":[],"responses":{"201":{"description":""}},"tags":["Instagram"]},"delete":{"operationId":"InstagramController_deleteInstagramData","parameters":[],"responses":{"200":{"description":""}},"tags":["Instagram"]}},"/instagram/saved-posts":{"get":{"operationId":"InstagramController_getSavedPostsData","parameters":[],"responses":{"200":{"description":""}},"tags":["Instagram"]},"post":{"operationId":"InstagramController_createInstagramData","parameters":[],"responses":{"201":{"description":""}},"tags":["Instagram"]}},"/instagram/json":{"post":{"operationId":"InstagramController_createInstagramDataFromJSON","parameters":[],"responses":{"201":{"description":""}},"tags":["Instagram"]}},"/instagram/json/short":{"post":{"operationId":"InstagramController_createInstagramDataFromJSONShort","parameters":[],"responses":{"201":{"description":""}},"tags":["Instagram"]}},"/instagram/scrape/profile":{"post":{"operationId":"InstagramController_scrapeInstagramProfile","parameters":[],"responses":{"201":{"description":""}},"tags":["Instagram"]}},"/distance":{"post":{"operationId":"DistanceController_calcDistances","summary":"Calculate distances","description":"Calculate distances & durations between array of origins and array of destinations.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalcDistancesDto"}}}},"responses":{"201":{"description":""}}}},"/distance/near/{coordinate}":{"get":{"operationId":"DistanceController_getNearbyPlacesByCoordinate","summary":"Get Nearby places By Coordinate","description":"Supply a coordinate and get nearby places","parameters":[{"name":"coordinate","required":true,"in":"path","description":"Coordinate in the format of {lat,lng}","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/distance/trip/{tripName}":{"get":{"operationId":"DistanceController_getTripCachedRoutes","summary":"Get trip Routes","description":"Returns all the routes that related to specific trip, by trip's coordinates.","parameters":[{"name":"tripName","required":true,"in":"path","description":"The name of the trip","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/task":{"get":{"operationId":"TaskController_getActiveTasks","summary":"Get Tasks","description":"Get all tasks","parameters":[],"responses":{"200":{"description":""}},"tags":["Task"],"security":[{"JWT":[]}]}},"/task/{id}":{"get":{"operationId":"TaskController_getTask","summary":"Get Task by id","description":"get specific task by id","parameters":[],"responses":{"200":{"description":""}},"tags":["Task"],"security":[{"JWT":[]}]}},"/task/trip/{name}":{"get":{"operationId":"TaskController_getTaskByTripName","summary":"Get Task by trip name","description":"get the last active task by trip name","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Task"],"security":[{"JWT":[]}]}}}}